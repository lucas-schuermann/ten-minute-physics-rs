(()=>{"use strict";var t,e,_={242:(t,e,_)=>{var i=_(375),s=_(235),n=_(477),r=_(365);class o{sim;scene;props;animateController;mousePos;mouseDown;intersectedObjectId;inputElement;raycaster;distance;prevPos;vel;time;constructor(t,e,_,i,s){this.sim=t,this.scene=_,this.props=i,this.animateController=s,this.raycaster=new n.iMs,this.raycaster.layers.set(1),this.raycaster.params.Line.threshold=.1,this.intersectedObjectId=null,this.distance=0,this.mousePos=new n.FM8,this.mouseDown=!1,this.prevPos=new n.Pa4,this.vel=new n.Pa4,this.time=0;const r=t=>{let e=t,_=t;return e.clientX?[e.clientX,e.clientY]:[_.touches[0].clientX,_.touches[0].clientY]},o=t=>{t.preventDefault(),"mousedown"===t.type||"touchstart"===t.type?(this.mouseDown=!0,this.start(...r(t)),null!==this.intersectedObjectId&&(this.scene.controls.saveState(),this.scene.controls.enabled=!1)):"mousemove"!==t.type&&"touchmove"!==t.type||!this.mouseDown?"mouseup"!==t.type&&"touchend"!==t.type||(this.mouseDown=!1,this.scene.controls.enabled=!0,null!==this.intersectedObjectId&&(this.end(),this.scene.controls.reset())):this.move(...r(t))};e.addEventListener("mousedown",o,!1),e.addEventListener("touchstart",o,!1),e.addEventListener("mouseup",o,!1),e.addEventListener("touchend",o,!1),e.addEventListener("mousemove",o,!1),e.addEventListener("touchmove",o,!1),this.inputElement=e}increaseTime(t){this.time+=t}updateRaycaster(t,e){const _=this.inputElement.getBoundingClientRect();this.mousePos.x=(t-_.left)/_.width*2-1,this.mousePos.y=-(e-_.top)/_.height*2+1,this.raycaster.setFromCamera(this.mousePos,this.scene.camera)}start(t,e){this.intersectedObjectId=null,this.updateRaycaster(t,e);const _=this.raycaster.intersectObjects(this.scene.scene.children);if(_.length>0){const t=_[0].object;if(!t)return;this.intersectedObjectId="id"in t.userData?t.userData.id:0,this.distance=_[0].distance;const e=this.raycaster.ray.origin.clone();e.addScaledVector(this.raycaster.ray.direction,this.distance),this.sim.start_grab(this.intersectedObjectId,e.toArray()),this.prevPos.copy(e),this.vel.set(0,0,0),this.time=0,this.props.animate=!0,this.animateController.updateDisplay()}}move(t,e){if(null!==this.intersectedObjectId){this.updateRaycaster(t,e);const _=this.raycaster.ray.origin.clone();_.addScaledVector(this.raycaster.ray.direction,this.distance),this.vel.copy(_),this.vel.sub(this.prevPos),this.time>0?this.vel.divideScalar(this.time):this.vel.set(0,0,0),this.prevPos.copy(_),this.time=0,this.sim.move_grabbed(this.intersectedObjectId,_.toArray())}}end(){null!==this.intersectedObjectId&&(this.sim.end_grab(this.intersectedObjectId,this.vel.toArray()),this.intersectedObjectId=null)}}i.Y6.set("event",{canHandle:t=>t instanceof Event&&("pointerdown"===t.type||"pointermove"===t.type||"pointerup"===t.type||"mousedown"===t.type||"mousemove"===t.type||"mouseup"===t.type||"wheel"===t.type),serialize(t){if("pointerdown"===t.type||"pointermove"===t.type||"pointerup"===t.type||"mousedown"===t.type||"mousemove"===t.type||"mouseup"===t.type){let e=t;return[{type:e.type,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,button:e.button,clientX:e.clientX,clientY:e.clientY},[]]}if("wheel"===t.type){let e=t;return[{type:e.type,deltaX:e.deltaX,deltaY:e.deltaY},[]]}return[void 0,[]]},deserialize:t=>t});const a=()=>{};class l extends n.pBf{style={};width;height;top;left;constructor(){super()}handleEvent(t){t.preventDefault=a,t.stopPropagation=a,this.dispatchEvent(t)}setSize(t,e,_,i){this.left=t,this.top=e,this.width=_,this.height=i}get clientWidth(){return this.width}get clientHeight(){return this.height}getBoundingClientRect(){return{left:this.left,top:this.top,width:this.width,height:this.height,right:this.left+this.width,bottom:this.top+this.height}}setPointerCapture(){}releasePointerCapture(){}}i.Jj(class extends l{sim;scene;props;memory;freeFlag=!1;maxSimMs=0;grabber;triMesh;points;sphereMesh;positions;normals;stats;simPanel;constructor(t,e){super(),this.stats=t,this.simPanel=e}async init(t,e,i,o,a,l){this.setSize(i.left,i.top,o,a),this.scene=((t,e,_,i,s,o)=>{const a=new n.xsS;a.add(new n.Mig(5263440)),a.fog=new n.ybr(0,0,15);const l=new n.PMe(16777215);l.angle=Math.PI/5,l.penumbra=.2,l.position.set(2,3,3),l.castShadow=!0,l.shadow.camera.near=1,l.shadow.camera.far=10,l.shadow.mapSize.width=2056,l.shadow.mapSize.height=2056,a.add(l);const b=new n.Ox3(5591130,1);b.position.set(0,3,0),b.castShadow=!0,b.shadow.camera.near=.1,b.shadow.camera.far=10,b.shadow.camera.right=4,b.shadow.camera.left=-4,b.shadow.camera.top=4,b.shadow.camera.bottom=-4,b.shadow.mapSize.width=2056,b.shadow.mapSize.height=2056,a.add(b);const g=new n.Kj0(new n._12(20,20,1,1),new n.xoR({color:10530223,shininess:150}));g.rotation.x=-Math.PI/2,g.receiveShadow=!0,a.add(g);const c=new n.VLJ(20,20),u=c.material;u.opacity=1,u.transparent=!0,c.position.set(0,.002,0),a.add(c);const w=new n.CP7({canvas:t,antialias:!0,powerPreference:"high-performance"});w.shadowMap.enabled=!0,w.setPixelRatio(o),w.setSize(i,s,!_.offscreen);const d=new n.cPb(70,i/s,.01,100);d.position.set(0,_.cameraYZ[0],_.cameraYZ[1]),d.updateMatrixWorld(),a.add(d);const h=new r.z(d,e);return h.zoomSpeed=2,h.panSpeed=.4,h.target.copy(_.cameraLookAt),h.update(),{kind:"3D",scene:a,camera:d,renderer:w,controls:h,offscreen:_.offscreen}})(t,this,e,o/l,a/l,l);const b=await Promise.resolve().then(_.bind(_,235)),g=navigator.hardwareConcurrency,{memory:c}=await b.default();this.memory=c,await b.initThreadPool(g),this.sim=new b.ParallelClothSimulation(30,256,256),this.props={threads:g,triangles:this.sim.num_tris,vertices:this.sim.num_particles,constraints:this.sim.num_dist_constraints,animate:!0,showVertices:!1,solver:s.ParallelClothSolverKind[this.sim.solver_kind],substeps:this.sim.num_substeps},this.initMesh()}beginLoop(t){this.grabber=new o(this.sim,this,this.scene,this.props,t);const e=()=>{this.stats.begin();let t=performance.now();this.update(),t=performance.now()-t,this.updateMesh(),this.scene.renderer.render(this.scene.scene,this.scene.camera),this.simPanel.update(t,this.maxSimMs=Math.max(this.maxSimMs,t)),this.stats.end(),this.freeFlag?delete this.sim:requestAnimationFrame(e)};requestAnimationFrame(e)}free(){this.freeFlag=!0}showVertices(t){this.points.visible=t,this.triMesh.visible=!t}setSubsteps(t){this.sim.num_substeps=t}setAnimate(t){this.props.animate=t}setSolver(t){this.sim.solver_kind=Object.values(s.ParallelClothSolverKind).indexOf(t)}resize(t,e){((t,e,_,i)=>{t.camera.aspect=e/_,t.camera.updateProjectionMatrix(),t.renderer.setSize(e,_,!1)})(this.scene,t,e)}update(){this.props.animate&&(this.sim.step(),this.grabber.increaseTime(this.sim.dt))}reset(){this.sim.reset(),this.updateMesh()}initMesh(){const t=Array.from(this.sim.tri_ids),e=this.sim.pos,_=this.sim.normals;this.positions=new Float32Array(this.memory.buffer,e,3*this.sim.num_particles),this.normals=new Float32Array(this.memory.buffer,_,3*this.sim.num_particles);let i=new n.u9r,s=new n.TlE(this.positions,3);i.setAttribute("position",s);let r=new n.TlE(this.normals,3);i.setAttribute("normal",r),i.setIndex(t);const o=new n.xoR({color:16711680,side:n.ehD});this.triMesh=new n.Kj0(i,o),this.triMesh.castShadow=!0,this.triMesh.layers.enable(1),this.scene.scene.add(this.triMesh),i.computeBoundingSphere(),i=new n.u9r,i.setAttribute("position",s);const a=new n.UY4({color:16711680,size:.01});this.points=new n.woe(i,a),this.points.visible=!1,this.scene.scene.add(this.points),i=new n.xo$(this.sim.obstacle_radius);const l=new n.xoR({color:16222749,side:n.Wl3});this.sphereMesh=new n.Kj0(i,l),this.sphereMesh.castShadow=!0,this.sphereMesh.receiveShadow=!0,this.sphereMesh.position.fromArray(this.sim.obstacle_pos),this.scene.scene.add(this.sphereMesh),this.updateMesh()}updateMesh(){this.triMesh.geometry.attributes.position.needsUpdate=!0,this.points.geometry.attributes.position.needsUpdate=!0,this.props.showVertices||(this.sim.update_normals(),this.triMesh.geometry.attributes.normal.needsUpdate=!0),this.triMesh.geometry.computeBoundingSphere()}})},235:(t,e,_)=>{_.r(e),_.d(e,{BodyChainSimulation:()=>L,ClothSimulation:()=>F,FireSimulation:()=>W,FlipSimulation:()=>D,FluidSceneType:()=>C,FluidSimulation:()=>z,FractalsSceneType:()=>I,FractalsSimulation:()=>R,HashSimulation:()=>B,HeightFieldWaterSimulation:()=>U,ParallelClothSimulation:()=>K,ParallelClothSolverKind:()=>E,PositionBasedFluidSimulation:()=>$,SelfCollisionSimulation:()=>V,SkinnedSoftbodySimulation:()=>Y,SoftBodiesSimulation:()=>q,default:()=>Z,initSync:()=>G,initThreadPool:()=>O,wbg_rayon_PoolBuilder:()=>J,wbg_rayon_start_worker:()=>j});var i=_(517);let s;const n=new Array(128).fill(void 0);function r(t){return n[t]}n.push(void 0,null,!0,!1);let o=n.length;function a(t){const e=r(t);return function(t){t<132||(n[t]=o,o=t)}(t),e}let l=null;function b(){return null!==l&&l.buffer===s.memory.buffer||(l=new Uint8Array(s.memory.buffer)),l}const g="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};function c(t,e){return t>>>=0,g.decode(b().slice(t,t+e))}function u(t){o===n.length&&n.push(n.length+1);const e=o;return o=n[e],n[e]=t,e}function w(t){const e=typeof t;if("number"==e||"boolean"==e||null==t)return`${t}`;if("string"==e)return`"${t}"`;if("symbol"==e){const e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){const e=t.length;let _="[";e>0&&(_+=w(t[0]));for(let i=1;i<e;i++)_+=", "+w(t[i]);return _+="]",_}const _=/\[object ([^\]]+)\]/.exec(toString.call(t));let i;if(!(_.length>1))return toString.call(t);if(i=_[1],"Object"==i)try{return"Object("+JSON.stringify(t)+")"}catch(t){return"Object"}return t instanceof Error?`${t.name}: ${t.message}\n${t.stack}`:i}"undefined"!=typeof TextDecoder&&g.decode();let d=0;const h="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},p=function(t,e){const _=h.encode(t);return e.set(_),{read:t.length,written:_.length}};function m(t,e,_){if(void 0===_){const _=h.encode(t),i=e(_.length,1)>>>0;return b().subarray(i,i+_.length).set(_),d=_.length,i}let i=t.length,s=e(i,1)>>>0;const n=b();let r=0;for(;r<i;r++){const e=t.charCodeAt(r);if(e>127)break;n[s+r]=e}if(r!==i){0!==r&&(t=t.slice(r)),s=_(s,i,i=r+3*t.length,1)>>>0;const e=b().subarray(s+r,s+i);r+=p(t,e).written}return d=r,s}let f=null;function y(){return null!==f&&f.buffer===s.memory.buffer||(f=new Int32Array(s.memory.buffer)),f}let v=null;function k(){return null!==v&&v.buffer===s.memory.buffer||(v=new Float32Array(s.memory.buffer)),v}function S(t,e){const _=e(4*t.length,4)>>>0;return k().set(t,_/4),d=t.length,_}let P=null;function x(t,e){return t>>>=0,(null!==P&&P.buffer===s.memory.buffer||(P=new Uint32Array(s.memory.buffer)),P).subarray(t/4,t/4+e)}function A(t,e){const _=e(1*t.length,1)>>>0;return b().set(t,_/1),d=t.length,_}function M(t,e){return t>>>=0,k().subarray(t/4,t/4+e)}function O(t){return a(s.initThreadPool(t))}function j(t){s.wbg_rayon_start_worker(t)}function T(t){return null==t}const E=Object.freeze({COLORING:0,0:"COLORING",JACOBI:1,1:"JACOBI"}),C=Object.freeze({WindTunnel:0,0:"WindTunnel",HiresTunnel:1,1:"HiresTunnel",Tank:2,2:"Tank",Paint:3,3:"Paint"}),I=Object.freeze({Julia:0,0:"Julia",Mandelbrot:1,1:"Mandelbrot"});class L{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_bodychainsimulation_free(t)}get num_objects(){return s.__wbg_get_bodychainsimulation_num_objects(this.__wbg_ptr)>>>0}get num_substeps(){return s.__wbg_get_bodychainsimulation_num_substeps(this.__wbg_ptr)}get dt(){return s.__wbg_get_bodychainsimulation_dt(this.__wbg_ptr)}get rot_damping(){return s.__wbg_get_bodychainsimulation_rot_damping(this.__wbg_ptr)}get pos_damping(){return s.__wbg_get_bodychainsimulation_pos_damping(this.__wbg_ptr)}get compliance(){return s.__wbg_get_bodychainsimulation_compliance(this.__wbg_ptr)}constructor(t,e,_,i,n,r,o){const a=S(e,s.__wbindgen_malloc),l=d,b=S(_,s.__wbindgen_malloc),g=d,c=s.bodychainsimulation_new(t,a,l,b,g,i,n,r,o);return this.__wbg_ptr=c>>>0,this}reset(t,e){const _=S(t,s.__wbindgen_malloc),i=d,n=S(e,s.__wbindgen_malloc),r=d;s.bodychainsimulation_reset(this.__wbg_ptr,_,i,n,r)}step(){s.bodychainsimulation_step(this.__wbg_ptr)}get poses(){return s.bodychainsimulation_poses(this.__wbg_ptr)>>>0}set num_substeps(t){s.bodychainsimulation_set_num_substeps(this.__wbg_ptr,t)}set pos_damping(t){s.bodychainsimulation_set_pos_damping(this.__wbg_ptr,t)}set rot_damping(t){s.bodychainsimulation_set_rot_damping(this.__wbg_ptr,t)}set compliance(t){s.bodychainsimulation_set_compliance(this.__wbg_ptr,t)}start_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.bodychainsimulation_start_grab(this.__wbg_ptr,t,_,i)}move_grabbed(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.bodychainsimulation_move_grabbed(this.__wbg_ptr,t,_,i)}end_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.bodychainsimulation_end_grab(this.__wbg_ptr,t,_,i)}}class F{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_clothsimulation_free(t)}get num_particles(){return s.__wbg_get_clothsimulation_num_particles(this.__wbg_ptr)>>>0}get num_tris(){return s.__wbg_get_clothsimulation_num_tris(this.__wbg_ptr)>>>0}get num_substeps(){return s.__wbg_get_clothsimulation_num_substeps(this.__wbg_ptr)}get dt(){return s.__wbg_get_clothsimulation_dt(this.__wbg_ptr)}get bending_compliance(){return s.__wbg_get_clothsimulation_bending_compliance(this.__wbg_ptr)}set bending_compliance(t){s.__wbg_set_clothsimulation_bending_compliance(this.__wbg_ptr,t)}get stretching_compliance(){return s.__wbg_get_clothsimulation_stretching_compliance(this.__wbg_ptr)}set stretching_compliance(t){s.__wbg_set_clothsimulation_stretching_compliance(this.__wbg_ptr,t)}constructor(t,e,_){const i=s.clothsimulation_new(t,e,_);return this.__wbg_ptr=i>>>0,this}get pos(){return s.bodychainsimulation_poses(this.__wbg_ptr)>>>0}get edge_ids(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.clothsimulation_edge_ids(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=x(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}get tri_ids(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.clothsimulation_tri_ids(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=x(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}reset(){s.clothsimulation_reset(this.__wbg_ptr)}set solver_substeps(t){s.clothsimulation_set_solver_substeps(this.__wbg_ptr,t)}step(){s.clothsimulation_step(this.__wbg_ptr)}start_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.clothsimulation_start_grab(this.__wbg_ptr,t,_,i)}move_grabbed(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.clothsimulation_move_grabbed(this.__wbg_ptr,t,_,i)}end_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.clothsimulation_end_grab(this.__wbg_ptr,t,_,i)}}class W{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_firesimulation_free(t)}get dt(){return s.__wbg_get_firesimulation_dt(this.__wbg_ptr)}get num_iters(){return s.__wbg_get_firesimulation_num_iters(this.__wbg_ptr)>>>0}set num_iters(t){s.__wbg_set_firesimulation_num_iters(this.__wbg_ptr,t)}get over_relaxation(){return s.__wbg_get_firesimulation_over_relaxation(this.__wbg_ptr)}set over_relaxation(t){s.__wbg_set_firesimulation_over_relaxation(this.__wbg_ptr,t)}get burning_obstacle(){return 0!==s.__wbg_get_firesimulation_burning_obstacle(this.__wbg_ptr)}set burning_obstacle(t){s.__wbg_set_firesimulation_burning_obstacle(this.__wbg_ptr,t)}get burning_floor(){return 0!==s.__wbg_get_firesimulation_burning_floor(this.__wbg_ptr)}set burning_floor(t){s.__wbg_set_firesimulation_burning_floor(this.__wbg_ptr,t)}get num_cells(){return s.__wbg_get_firesimulation_num_cells(this.__wbg_ptr)>>>0}get swirl_probability(){return s.__wbg_get_firesimulation_swirl_probability(this.__wbg_ptr)}set swirl_probability(t){s.__wbg_set_firesimulation_swirl_probability(this.__wbg_ptr,t)}get show_obstacle(){return 0!==s.__wbg_get_firesimulation_show_obstacle(this.__wbg_ptr)}set show_obstacle(t){s.__wbg_set_firesimulation_show_obstacle(this.__wbg_ptr,t)}get show_swirls(){return 0!==s.__wbg_get_firesimulation_show_swirls(this.__wbg_ptr)}set show_swirls(t){s.__wbg_set_firesimulation_show_swirls(this.__wbg_ptr,t)}constructor(t,e,_){const i=s.firesimulation_new(t,e,u(_));return this.__wbg_ptr=i>>>0,this}step(){s.firesimulation_step(this.__wbg_ptr)}draw_buffer(t){var e=A(t,s.__wbindgen_malloc),_=d;s.firesimulation_draw_buffer(this.__wbg_ptr,e,_,u(t))}draw_canvas(){s.firesimulation_draw_canvas(this.__wbg_ptr)}set_obstacle_from_canvas(t,e,_){s.firesimulation_set_obstacle_from_canvas(this.__wbg_ptr,t,e,_)}}class D{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_flipsimulation_free(t)}get density(){return s.__wbg_get_flipsimulation_density(this.__wbg_ptr)}get dt(){return s.__wbg_get_flipsimulation_dt(this.__wbg_ptr)}get num_substeps(){return s.__wbg_get_flipsimulation_num_substeps(this.__wbg_ptr)>>>0}set num_substeps(t){s.__wbg_set_flipsimulation_num_substeps(this.__wbg_ptr,t)}get flip_ratio(){return s.__wbg_get_flipsimulation_flip_ratio(this.__wbg_ptr)}set flip_ratio(t){s.__wbg_set_flipsimulation_flip_ratio(this.__wbg_ptr,t)}get over_relaxation(){return s.__wbg_get_bodychainsimulation_dt(this.__wbg_ptr)}set over_relaxation(t){s.__wbg_set_flipsimulation_over_relaxation(this.__wbg_ptr,t)}get compensate_drift(){return 0!==s.__wbg_get_flipsimulation_compensate_drift(this.__wbg_ptr)}set compensate_drift(t){s.__wbg_set_flipsimulation_compensate_drift(this.__wbg_ptr,t)}get separate_particles(){return 0!==s.__wbg_get_flipsimulation_separate_particles(this.__wbg_ptr)}set separate_particles(t){s.__wbg_set_flipsimulation_separate_particles(this.__wbg_ptr,t)}get particle_num_cells(){return s.__wbg_get_flipsimulation_particle_num_cells(this.__wbg_ptr)>>>0}get num_particles(){return s.__wbg_get_flipsimulation_num_particles(this.__wbg_ptr)>>>0}get num_cells(){return s.__wbg_get_flipsimulation_num_cells(this.__wbg_ptr)>>>0}get show_obstacle(){return 0!==s.__wbg_get_flipsimulation_show_obstacle(this.__wbg_ptr)}set show_obstacle(t){s.__wbg_set_flipsimulation_show_obstacle(this.__wbg_ptr,t)}get show_particles(){return 0!==s.__wbg_get_flipsimulation_show_particles(this.__wbg_ptr)}set show_particles(t){s.__wbg_set_flipsimulation_show_particles(this.__wbg_ptr,t)}get show_grid(){return 0!==s.__wbg_get_flipsimulation_show_grid(this.__wbg_ptr)}set show_grid(t){s.__wbg_set_flipsimulation_show_grid(this.__wbg_ptr,t)}constructor(t,e,_){try{const r=s.__wbindgen_add_to_stack_pointer(-16);s.flipsimulation_new(r,t,e,u(_));var i=y()[r/4+0],n=y()[r/4+1];if(y()[r/4+2])throw a(n);return this.__wbg_ptr=i>>>0,this}finally{s.__wbindgen_add_to_stack_pointer(16)}}draw(){s.flipsimulation_draw(this.__wbg_ptr)}step(){s.flipsimulation_step(this.__wbg_ptr)}set_obstacle_from_canvas(t,e,_){s.flipsimulation_set_obstacle_from_canvas(this.__wbg_ptr,t,e,_)}}class z{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_fluidsimulation_free(t)}get density(){return s.__wbg_get_fluidsimulation_density(this.__wbg_ptr)}get dt(){return s.__wbg_get_firesimulation_over_relaxation(this.__wbg_ptr)}get num_iters(){return s.__wbg_get_fluidsimulation_num_iters(this.__wbg_ptr)>>>0}set num_iters(t){s.__wbg_set_fluidsimulation_num_iters(this.__wbg_ptr,t)}get over_relaxation(){return s.__wbg_get_flipsimulation_dt(this.__wbg_ptr)}set over_relaxation(t){s.__wbg_set_fluidsimulation_over_relaxation(this.__wbg_ptr,t)}get num_cells(){return s.__wbg_get_fluidsimulation_num_cells(this.__wbg_ptr)>>>0}get show_obstacle(){return 0!==s.__wbg_get_fluidsimulation_show_obstacle(this.__wbg_ptr)}set show_obstacle(t){s.__wbg_set_fluidsimulation_show_obstacle(this.__wbg_ptr,t)}get show_streamlines(){return 0!==s.__wbg_get_fluidsimulation_show_streamlines(this.__wbg_ptr)}set show_streamlines(t){s.__wbg_set_fluidsimulation_show_streamlines(this.__wbg_ptr,t)}get show_velocities(){return 0!==s.__wbg_get_fluidsimulation_show_velocities(this.__wbg_ptr)}set show_velocities(t){s.__wbg_set_fluidsimulation_show_velocities(this.__wbg_ptr,t)}get show_pressure(){return 0!==s.__wbg_get_fluidsimulation_show_pressure(this.__wbg_ptr)}set show_pressure(t){s.__wbg_set_fluidsimulation_show_pressure(this.__wbg_ptr,t)}get show_smoke(){return 0!==s.__wbg_get_fluidsimulation_show_smoke(this.__wbg_ptr)}set show_smoke(t){s.__wbg_set_fluidsimulation_show_smoke(this.__wbg_ptr,t)}constructor(t,e,_,i){const n=s.fluidsimulation_new(t,e,_,u(i));return this.__wbg_ptr=n>>>0,this}set_obstacle_from_canvas(t,e,_,i){s.fluidsimulation_set_obstacle_from_canvas(this.__wbg_ptr,t,e,_,i)}draw_buffer(t){var e=A(t,s.__wbindgen_malloc),_=d;s.fluidsimulation_draw_buffer(this.__wbg_ptr,e,_,u(t))}draw_canvas(){s.fluidsimulation_draw_canvas(this.__wbg_ptr)}step(){s.fluidsimulation_step(this.__wbg_ptr)}}class R{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_fractalssimulation_free(t)}get scene_type(){return s.__wbg_get_fractalssimulation_scene_type(this.__wbg_ptr)}set scene_type(t){s.__wbg_set_fractalssimulation_scene_type(this.__wbg_ptr,t)}get max_iters(){return s.__wbg_get_firesimulation_num_iters(this.__wbg_ptr)>>>0}set max_iters(t){s.__wbg_set_firesimulation_num_iters(this.__wbg_ptr,t)}get scale(){return s.__wbg_get_firesimulation_over_relaxation(this.__wbg_ptr)}set scale(t){s.__wbg_set_firesimulation_over_relaxation(this.__wbg_ptr,t)}get draw_mono(){return 0!==s.__wbg_get_fractalssimulation_draw_mono(this.__wbg_ptr)}set draw_mono(t){s.__wbg_set_fractalssimulation_draw_mono(this.__wbg_ptr,t)}get redraw(){return 0!==s.__wbg_get_fractalssimulation_redraw(this.__wbg_ptr)}set redraw(t){s.__wbg_set_fractalssimulation_redraw(this.__wbg_ptr,t)}constructor(t,e,_){const i=s.fractalssimulation_new(t,e,_);return this.__wbg_ptr=i>>>0,this}reset(){s.fractalssimulation_reset(this.__wbg_ptr)}draw_buffer(t){var e=A(t,s.__wbindgen_malloc),_=d;s.fractalssimulation_draw_buffer(this.__wbg_ptr,e,_,u(t))}handle_drag(t,e,_){s.fractalssimulation_handle_drag(this.__wbg_ptr,t,e,_)}}class B{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_hashsimulation_free(t)}get num_bodies(){return s.__wbg_get_hashsimulation_num_bodies(this.__wbg_ptr)>>>0}constructor(){const t=s.hashsimulation_new();return this.__wbg_ptr=t>>>0,this}reset(){s.hashsimulation_reset(this.__wbg_ptr)}step(){s.hashsimulation_step(this.__wbg_ptr)}static get radius(){return s.hashsimulation_radius()}get pos(){return s.hashsimulation_pos(this.__wbg_ptr)>>>0}get collisions(){return s.hashsimulation_collisions(this.__wbg_ptr)>>>0}}class U{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_heightfieldwatersimulation_free(t)}get num_x(){return s.__wbg_get_heightfieldwatersimulation_num_x(this.__wbg_ptr)>>>0}get num_z(){return s.__wbg_get_heightfieldwatersimulation_num_z(this.__wbg_ptr)>>>0}get num_cells(){return s.__wbg_get_flipsimulation_num_cells(this.__wbg_ptr)>>>0}constructor(t,e,_,i,n){const r=s.heightfieldwatersimulation_new(t,e,_,i,n);return this.__wbg_ptr=r>>>0,this}get positions(){return s.heightfieldwatersimulation_positions(this.__wbg_ptr)>>>0}get ball_radii(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.heightfieldwatersimulation_ball_radii(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=M(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}get ball_positions(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.heightfieldwatersimulation_ball_positions(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=M(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}get uvs(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.heightfieldwatersimulation_uvs(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=M(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}get indices(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.heightfieldwatersimulation_indices(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=x(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}step(t){s.heightfieldwatersimulation_step(this.__wbg_ptr,t)}reset(t){s.heightfieldwatersimulation_reset(this.__wbg_ptr,t)}start_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.heightfieldwatersimulation_start_grab(this.__wbg_ptr,t,_,i)}move_grabbed(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.heightfieldwatersimulation_move_grabbed(this.__wbg_ptr,t,_,i)}end_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.heightfieldwatersimulation_end_grab(this.__wbg_ptr,t,_,i)}}class K{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_parallelclothsimulation_free(t)}get num_particles(){return s.__wbg_get_parallelclothsimulation_num_particles(this.__wbg_ptr)>>>0}get num_tris(){return s.__wbg_get_parallelclothsimulation_num_tris(this.__wbg_ptr)>>>0}get num_dist_constraints(){return s.__wbg_get_parallelclothsimulation_num_dist_constraints(this.__wbg_ptr)>>>0}get num_substeps(){return s.__wbg_get_parallelclothsimulation_num_substeps(this.__wbg_ptr)}get dt(){return s.__wbg_get_parallelclothsimulation_dt(this.__wbg_ptr)}get solver_kind(){return s.__wbg_get_parallelclothsimulation_solver_kind(this.__wbg_ptr)}set solver_kind(t){s.__wbg_set_parallelclothsimulation_solver_kind(this.__wbg_ptr,t)}get obstacle_radius(){return s.__wbg_get_clothsimulation_stretching_compliance(this.__wbg_ptr)}constructor(t,e,_){const i=s.parallelclothsimulation_new(t,e,_);return this.__wbg_ptr=i>>>0,this}get pos(){return s.parallelclothsimulation_pos(this.__wbg_ptr)>>>0}get normals(){return s.parallelclothsimulation_normals(this.__wbg_ptr)>>>0}get obstacle_pos(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.parallelclothsimulation_obstacle_pos(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=M(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}get tri_ids(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.parallelclothsimulation_tri_ids(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=x(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}reset(){s.parallelclothsimulation_reset(this.__wbg_ptr)}set num_substeps(t){s.parallelclothsimulation_set_num_substeps(this.__wbg_ptr,t)}step(){s.parallelclothsimulation_step(this.__wbg_ptr)}update_normals(){s.parallelclothsimulation_update_normals(this.__wbg_ptr)}start_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.parallelclothsimulation_start_grab(this.__wbg_ptr,t,_,i)}move_grabbed(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.parallelclothsimulation_move_grabbed(this.__wbg_ptr,t,_,i)}end_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.parallelclothsimulation_end_grab(this.__wbg_ptr,t,_,i)}}class ${__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_positionbasedfluidsimulation_free(t)}constructor(t,e,_,i,n,r){try{const b=s.__wbindgen_add_to_stack_pointer(-16);s.positionbasedfluidsimulation_new(b,u(t),e,_,i,n,r);var o=y()[b/4+0],l=y()[b/4+1];if(y()[b/4+2])throw a(l);return this.__wbg_ptr=o>>>0,this}finally{s.__wbindgen_add_to_stack_pointer(16)}}set draw_single_color(t){s.positionbasedfluidsimulation_set_draw_single_color(this.__wbg_ptr,t)}get num_particles(){return s.positionbasedfluidsimulation_num_particles(this.__wbg_ptr)>>>0}set viscosity(t){s.positionbasedfluidsimulation_set_viscosity(this.__wbg_ptr,t)}set solver_substeps(t){s.positionbasedfluidsimulation_set_solver_substeps(this.__wbg_ptr,t)}step(){s.positionbasedfluidsimulation_step(this.__wbg_ptr)}add_block(){s.positionbasedfluidsimulation_add_block(this.__wbg_ptr)}reset(t,e){s.positionbasedfluidsimulation_reset(this.__wbg_ptr,t,e)}draw(){s.positionbasedfluidsimulation_draw(this.__wbg_ptr)}}class V{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_selfcollisionsimulation_free(t)}get num_particles(){return s.__wbg_get_selfcollisionsimulation_num_particles(this.__wbg_ptr)>>>0}get num_tris(){return s.__wbg_get_selfcollisionsimulation_num_tris(this.__wbg_ptr)>>>0}get dt(){return s.__wbg_get_selfcollisionsimulation_dt(this.__wbg_ptr)}get handle_collisions(){return 0!==s.__wbg_get_selfcollisionsimulation_handle_collisions(this.__wbg_ptr)}set handle_collisions(t){s.__wbg_set_selfcollisionsimulation_handle_collisions(this.__wbg_ptr,t)}get stretch_compliance(){return s.__wbg_get_selfcollisionsimulation_stretch_compliance(this.__wbg_ptr)}set stretch_compliance(t){s.__wbg_set_selfcollisionsimulation_stretch_compliance(this.__wbg_ptr,t)}get shear_compliance(){return s.__wbg_get_selfcollisionsimulation_shear_compliance(this.__wbg_ptr)}set shear_compliance(t){s.__wbg_set_selfcollisionsimulation_shear_compliance(this.__wbg_ptr,t)}get bending_compliance(){return s.__wbg_get_selfcollisionsimulation_bending_compliance(this.__wbg_ptr)}set bending_compliance(t){s.__wbg_set_selfcollisionsimulation_bending_compliance(this.__wbg_ptr,t)}get friction(){return s.__wbg_get_selfcollisionsimulation_friction(this.__wbg_ptr)}set friction(t){s.__wbg_set_selfcollisionsimulation_friction(this.__wbg_ptr,t)}constructor(t,e,_,i,n){const r=s.selfcollisionsimulation_new(t,e,_,i,n);return this.__wbg_ptr=r>>>0,this}get pos(){return s.bodychainsimulation_poses(this.__wbg_ptr)>>>0}get edge_ids(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.clothsimulation_edge_ids(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=x(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}get tri_ids(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.clothsimulation_tri_ids(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=x(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}reset(t){s.selfcollisionsimulation_reset(this.__wbg_ptr,t)}set solver_substeps(t){s.selfcollisionsimulation_set_solver_substeps(this.__wbg_ptr,t)}step(){s.selfcollisionsimulation_step(this.__wbg_ptr)}start_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.selfcollisionsimulation_start_grab(this.__wbg_ptr,t,_,i)}move_grabbed(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.selfcollisionsimulation_move_grabbed(this.__wbg_ptr,t,_,i)}end_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.selfcollisionsimulation_end_grab(this.__wbg_ptr,t,_,i)}}class Y{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_skinnedsoftbodysimulation_free(t)}get num_particles(){return s.__wbg_get_skinnedsoftbodysimulation_num_particles(this.__wbg_ptr)>>>0}get num_tris(){return s.__wbg_get_skinnedsoftbodysimulation_num_tris(this.__wbg_ptr)>>>0}get num_tets(){return s.__wbg_get_skinnedsoftbodysimulation_num_tets(this.__wbg_ptr)>>>0}get num_surface_verts(){return s.__wbg_get_skinnedsoftbodysimulation_num_surface_verts(this.__wbg_ptr)>>>0}get dt(){return s.__wbg_get_skinnedsoftbodysimulation_dt(this.__wbg_ptr)}get edge_compliance(){return s.__wbg_get_selfcollisionsimulation_shear_compliance(this.__wbg_ptr)}set edge_compliance(t){s.__wbg_set_selfcollisionsimulation_shear_compliance(this.__wbg_ptr,t)}get vol_compliance(){return s.__wbg_get_selfcollisionsimulation_bending_compliance(this.__wbg_ptr)}set vol_compliance(t){s.__wbg_set_selfcollisionsimulation_bending_compliance(this.__wbg_ptr,t)}constructor(t,e,_){const i=s.skinnedsoftbodysimulation_new(t,e,_);return this.__wbg_ptr=i>>>0,this}get pos(){return s.skinnedsoftbodysimulation_pos(this.__wbg_ptr)>>>0}get surface_pos(){return s.parallelclothsimulation_pos(this.__wbg_ptr)>>>0}get tet_ids(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.skinnedsoftbodysimulation_tet_ids(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=x(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}get edge_ids(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.skinnedsoftbodysimulation_edge_ids(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=x(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}get surface_tri_ids(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.skinnedsoftbodysimulation_surface_tri_ids(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=x(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}set solver_substeps(t){s.skinnedsoftbodysimulation_set_solver_substeps(this.__wbg_ptr,t)}reset(){s.skinnedsoftbodysimulation_reset(this.__wbg_ptr)}step(){s.skinnedsoftbodysimulation_step(this.__wbg_ptr)}squash(){s.skinnedsoftbodysimulation_squash(this.__wbg_ptr)}start_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.skinnedsoftbodysimulation_start_grab(this.__wbg_ptr,t,_,i)}move_grabbed(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.skinnedsoftbodysimulation_move_grabbed(this.__wbg_ptr,t,_,i)}end_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.skinnedsoftbodysimulation_end_grab(this.__wbg_ptr,t,_,i)}}class q{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_softbodiessimulation_free(t)}constructor(t,e,_){const i=s.softbodiessimulation_new(t,e,_);return this.__wbg_ptr=i>>>0,this}get surface_tri_ids(){try{const i=s.__wbindgen_add_to_stack_pointer(-16);s.heightfieldwatersimulation_uvs(i,this.__wbg_ptr);var t=y()[i/4+0],e=y()[i/4+1],_=x(t,e).slice();return s.__wbindgen_free(t,4*e,4),_}finally{s.__wbindgen_add_to_stack_pointer(16)}}reset(){s.softbodiessimulation_reset(this.__wbg_ptr)}add_body(){s.softbodiessimulation_add_body(this.__wbg_ptr)}squash(){s.softbodiessimulation_squash(this.__wbg_ptr)}get num_particles_per_body(){return s.softbodiessimulation_num_particles_per_body(this.__wbg_ptr)>>>0}get num_tets(){return s.softbodiessimulation_num_tets(this.__wbg_ptr)>>>0}get dt(){return s.softbodiessimulation_dt(this.__wbg_ptr)}start_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.softbodiessimulation_start_grab(this.__wbg_ptr,t,_,i)}move_grabbed(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.softbodiessimulation_move_grabbed(this.__wbg_ptr,t,_,i)}end_grab(t,e){const _=S(e,s.__wbindgen_malloc),i=d;s.softbodiessimulation_end_grab(this.__wbg_ptr,t,_,i)}pos(t){return s.softbodiessimulation_pos(this.__wbg_ptr,t)>>>0}set solver_substeps(t){s.softbodiessimulation_set_solver_substeps(this.__wbg_ptr,t)}set edge_compliance(t){s.softbodiessimulation_set_edge_compliance(this.__wbg_ptr,t)}set volume_compliance(t){s.softbodiessimulation_set_volume_compliance(this.__wbg_ptr,t)}step(){s.softbodiessimulation_step(this.__wbg_ptr)}}class J{static __wrap(t){t>>>=0;const e=Object.create(J.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_wbg_rayon_poolbuilder_free(t)}numThreads(){return s.wbg_rayon_poolbuilder_numThreads(this.__wbg_ptr)>>>0}receiver(){return s.wbg_rayon_poolbuilder_receiver(this.__wbg_ptr)>>>0}build(){s.wbg_rayon_poolbuilder_build(this.__wbg_ptr)}}function X(){const t={};return t.wbg={},t.wbg.__wbindgen_object_drop_ref=function(t){a(t)},t.wbg.__wbg_createShader_ae014363ffc75c3a=function(t,e){const _=r(t).createShader(e>>>0);return T(_)?0:u(_)},t.wbg.__wbg_shaderSource_928e12db21ccefe3=function(t,e,_,i){r(t).shaderSource(r(e),c(_,i))},t.wbg.__wbg_compileShader_81181e6a219b7098=function(t,e){r(t).compileShader(r(e))},t.wbg.__wbg_getShaderParameter_37b950cbc20b6795=function(t,e,_){return u(r(t).getShaderParameter(r(e),_>>>0))},t.wbg.__wbindgen_boolean_get=function(t){const e=r(t);return"boolean"==typeof e?e?1:0:2},t.wbg.__wbg_getShaderInfoLog_20c948f5d991e6fd=function(t,e,_){const i=r(e).getShaderInfoLog(r(_));var n=T(i)?0:m(i,s.__wbindgen_malloc,s.__wbindgen_realloc),o=d;y()[t/4+1]=o,y()[t/4+0]=n},t.wbg.__wbg_createProgram_c835e8e8ff672d87=function(t){const e=r(t).createProgram();return T(e)?0:u(e)},t.wbg.__wbg_attachShader_06c432ad16c8823a=function(t,e,_){r(t).attachShader(r(e),r(_))},t.wbg.__wbg_linkProgram_bc5dc3f9357619ca=function(t,e){r(t).linkProgram(r(e))},t.wbg.__wbg_getProgramParameter_790db16915da3254=function(t,e,_){return u(r(t).getProgramParameter(r(e),_>>>0))},t.wbg.__wbg_getProgramInfoLog_056131faf2350ad7=function(t,e,_){const i=r(e).getProgramInfoLog(r(_));var n=T(i)?0:m(i,s.__wbindgen_malloc,s.__wbindgen_realloc),o=d;y()[t/4+1]=o,y()[t/4+0]=n},t.wbg.__wbg_random_9f310ce86e57ad05="function"==typeof Math.random?Math.random:("Math.random",()=>{throw new Error("Math.random is not defined")}),t.wbg.__wbindgen_copy_to_typed_array=function(t,e,_){var i,s;new Uint8Array(r(_).buffer,r(_).byteOffset,r(_).byteLength).set((i=t,s=e,i>>>=0,b().subarray(i/1,i/1+s)))},t.wbg.__wbindgen_string_new=function(t,e){return u(c(t,e))},t.wbg.__wbg_setlineWidth_52861f70ee5fc11d=function(t,e){r(t).lineWidth=e},t.wbg.__wbg_setstrokeStyle_1bf67b48c7e92f7c=function(t,e){r(t).strokeStyle=r(e)},t.wbg.__wbg_beginPath_dcaf84daa6be35fe=function(t){r(t).beginPath()},t.wbg.__wbg_arc_267b3955b82dae7d=function(){return function(t,e){try{return function(t,e,_,i,s,n){r(t).arc(e,_,i,s,n)}.apply(this,e)}catch(t){s.__wbindgen_exn_store(u(t))}}(0,arguments)},t.wbg.__wbg_closePath_45d0b0af592ad33e=function(t){r(t).closePath()},t.wbg.__wbg_stroke_abe71960396d06f0=function(t){r(t).stroke()},t.wbg.__wbg_viewport_8fc784fc0658898b=function(t,e,_,i,s){r(t).viewport(e,_,i,s)},t.wbg.__wbg_clearColor_d0e4ba6b3de36fbc=function(t,e,_,i,s){r(t).clearColor(e,_,i,s)},t.wbg.__wbg_getUniformLocation_a7c602314cbc2c05=function(t,e,_,i){const s=r(t).getUniformLocation(r(e),c(_,i));return T(s)?0:u(s)},t.wbg.__wbg_useProgram_fcb92641d4c3215f=function(t,e){r(t).useProgram(r(e))},t.wbg.__wbg_getAttribLocation_6c42e2cd1c2847f2=function(t,e,_,i){return r(t).getAttribLocation(r(e),c(_,i))},t.wbg.__wbg_createBuffer_6ead16b08a511599=function(t){const e=r(t).createBuffer();return T(e)?0:u(e)},t.wbg.__wbg_bindBuffer_c0ef32bca575b1bf=function(t,e,_){r(t).bindBuffer(e>>>0,r(_))},t.wbg.__wbg_bufferData_cbf46e29ed1643f0=function(t,e,_,i){r(t).bufferData(e>>>0,r(_),i>>>0)},t.wbg.__wbg_clear_7f98b4d14a417e94=function(t,e){r(t).clear(e>>>0)},t.wbg.__wbg_uniform1f_e051ff9c7bf1e081=function(t,e,_){r(t).uniform1f(r(e),_)},t.wbg.__wbg_uniform2f_3654c72e821a2089=function(t,e,_,i){r(t).uniform2f(r(e),_,i)},t.wbg.__wbg_uniform1i_f13bd7d6ad492b5a=function(t,e,_){r(t).uniform1i(r(e),_)},t.wbg.__wbg_vertexAttribPointer_0959b49dbd9a1b3e=function(t,e,_,i,s,n,o){r(t).vertexAttribPointer(e>>>0,_,i>>>0,0!==s,n,o)},t.wbg.__wbg_enableVertexAttribArray_224e3bb561570cc2=function(t,e){r(t).enableVertexAttribArray(e>>>0)},t.wbg.__wbindgen_memory=function(){return u(s.memory)},t.wbg.__wbg_buffer_344d9b41efe96da7=function(t){return u(r(t).buffer)},t.wbg.__wbg_newwithbyteoffsetandlength_4761a4dc62ec68a9=function(t,e,_){return u(new Float32Array(r(t),e>>>0,_>>>0))},t.wbg.__wbg_bufferSubData_5479137ae34eb123=function(t,e,_,i){r(t).bufferSubData(e>>>0,_,r(i))},t.wbg.__wbg_drawArrays_c5972b3d73095bf5=function(t,e,_,i){r(t).drawArrays(e>>>0,_,i)},t.wbg.__wbg_disableVertexAttribArray_eb9b9b0042076ad2=function(t,e){r(t).disableVertexAttribArray(e>>>0)},t.wbg.__wbg_uniform3fv_a5aa096fec7ac224=function(t,e,_,i){r(t).uniform3fv(r(e),M(_,i))},t.wbg.__wbg_uniform2fv_4d1cfba3bb56370b=function(t,e,_,i){r(t).uniform2fv(r(e),M(_,i))},t.wbg.__wbg_drawElements_510ac32d8abfd683=function(t,e,_,i,s){r(t).drawElements(e>>>0,_,i>>>0,s)},t.wbg.__wbg_uniformMatrix4fv_1826d923932cf3bb=function(t,e,_,i,s){r(t).uniformMatrix4fv(r(e),0!==_,M(i,s))},t.wbg.__wbg_moveTo_96f4d56b6d86d473=function(t,e,_){r(t).moveTo(e,_)},t.wbg.__wbg_lineTo_577441645a6c05ee=function(t,e,_){r(t).lineTo(e,_)},t.wbg.__wbg_setfillStyle_343558d6a1a50509=function(t,e){r(t).fillStyle=r(e)},t.wbg.__wbg_fill_530550bd1c480bcf=function(t){r(t).fill()},t.wbg.__wbg_newwithbyteoffsetandlength_2dfd4b7f2d9095c8=function(t,e,_){return u(new Uint16Array(r(t),e>>>0,_>>>0))},t.wbg.__wbindgen_debug_string=function(t,e){const _=m(w(r(e)),s.__wbindgen_malloc,s.__wbindgen_realloc),i=d;y()[t/4+1]=i,y()[t/4+0]=_},t.wbg.__wbindgen_throw=function(t,e){throw new Error(c(t,e))},t.wbg.__wbindgen_module=function(){return u(Q.__wbindgen_wasm_module)},t.wbg.__wbg_startWorkers_6fd3af285ea11136=function(t,e,_){return u((0,i.Q)(a(t),a(e),J.__wrap(_)))},t}function H(t,e){t.wbg.memory=e||new WebAssembly.Memory({initial:39,maximum:16384,shared:!0})}function N(t,e){return s=t.exports,Q.__wbindgen_wasm_module=e,v=null,f=null,P=null,l=null,s.__wbindgen_start(),s}function G(t,e){if(void 0!==s)return s;const _=X();return H(_,e),t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t)),N(new WebAssembly.Instance(t,_),t)}async function Q(t,e){if(void 0!==s)return s;void 0===t&&(t=new URL(_(275),_.b));const i=X();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t)),H(i,e);const{instance:n,module:r}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const _=await t.arrayBuffer();return await WebAssembly.instantiate(_,e)}{const _=await WebAssembly.instantiate(t,e);return _ instanceof WebAssembly.Instance?{instance:_,module:t}:_}}(await t,i);return N(n,r)}const Z=Q},517:(t,e,_)=>{function i(t,e){return new Promise((_=>{t.addEventListener("message",(function i({data:s}){null!=s&&s.type===e&&(t.removeEventListener("message",i),_(s))}))}))}let s;async function n(t,e,n){const r={type:"wasm_bindgen_worker_init",module:t,memory:e,receiver:n.receiver()};s=await Promise.all(Array.from({length:n.numThreads()},(async()=>{const t=new Worker(new URL(_.p+_.u(517),_.b),{type:void 0});return t.postMessage(r),await i(t,"wasm_bindgen_worker_ready"),t}))),n.build()}_.d(e,{Q:()=>n}),i(self,"wasm_bindgen_worker_init").then((async t=>{const e=await _.e(235).then(_.bind(_,235));await e.default(t.module,t.memory),postMessage({type:"wasm_bindgen_worker_ready"}),e.wbg_rayon_start_worker(t.receiver)}))},275:(t,e,_)=>{t.exports=_.p+"b6e2c1046d6906e34608.wasm"}},i={};function s(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={exports:{}};return _[t](n,n.exports,s),n.exports}s.m=_,s.x=()=>{var t=s.O(void 0,[147],(()=>s(242)));return s.O(t)},t=[],s.O=(e,_,i,n)=>{if(!_){var r=1/0;for(b=0;b<t.length;b++){for(var[_,i,n]=t[b],o=!0,a=0;a<_.length;a++)(!1&n||r>=n)&&Object.keys(s.O).every((t=>s.O[t](_[a])))?_.splice(a--,1):(o=!1,n<r&&(r=n));if(o){t.splice(b--,1);var l=i();void 0!==l&&(e=l)}}return e}n=n||0;for(var b=t.length;b>0&&t[b-1][2]>n;b--)t[b]=t[b-1];t[b]=[_,i,n]},s.d=(t,e)=>{for(var _ in e)s.o(e,_)&&!s.o(t,_)&&Object.defineProperty(t,_,{enumerable:!0,get:e[_]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce(((e,_)=>(s.f[_](t,e),e)),[])),s.u=t=>"./"+t+".index.js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var _=e.getElementsByTagName("script");if(_.length)for(var i=_.length-1;i>-1&&!t;)t=_[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t})(),(()=>{s.b=self.location+"";var t={242:1,235:1,517:1};s.f.i=(e,_)=>{t[e]||importScripts(s.p+s.u(e))};var e=self.webpackChunk=self.webpackChunk||[],_=e.push.bind(e);e.push=e=>{var[i,n,r]=e;for(var o in n)s.o(n,o)&&(s.m[o]=n[o]);for(r&&r(s);i.length;)t[i.pop()]=1;_(e)}})(),e=s.x,s.x=()=>s.e(147).then(e),s.x()})();